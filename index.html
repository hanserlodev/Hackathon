<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Impacto de Meteoritos</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>
    <div class="container">
        <!-- Encabezado principal / Main header -->
        <header class="header">
            <h1>üåç Simulation of Meteorite Impact</h1>
            <p>Explore the consequences of meteorite impacts in real-time</p>
        </header>

        <!-- Panel de control / Control panel -->
        <div class="control-panel">
            <div class="input-group">
                <label for="location-input">Ubicaci√≥n del Impacto:</label>
                <input type="text" id="location-input" placeholder="Ej: Denver, CO o 39.7392, -104.9903">
                <button id="search-location">Buscar</button>
            </div>
            <div id="location-info"></div>

            <div class="meteor-params">

                <label for="meteor-select">Seleccionar Meteorito:</label>
                <select id="meteor-select">
                    <!-- Los meteoritos se llenar√°n din√°micamente aqu√≠ -->
                </select>

                <h3>Meteorite Parameters</h3>

                <div class="param-group">
                    <label for="meteor-size">Tama√±o (metros):</label>
                    <input type="range" id="meteor-size" min="10" max="1000" value="180">
                    <span id="size-value">180m</span>
                </div>

                <div class="param-group">
                    <label for="meteor-speed">Velocidad (km/s):</label>
                    <input type="range" id="meteor-speed" min="11" max="70" value="24">
                    <span id="speed-value">24 km/s</span>
                </div>

                <div class="param-group">
                    <label for="meteor-angle">√Ångulo de Entrada (¬∞):</label>
                    <input type="range" id="meteor-angle" min="10" max="90" value="45">
                    <span id="angle-value">45¬∞</span>
                </div>

                <div class="param-group">
                    <label for="meteor-density">Densidad:</label>
                    <select id="meteor-density">
                        <option value="iron">Hierro (7.8 g/cm¬≥)</option>
                        <option value="stone" selected>Piedra (3.0 g/cm¬≥)</option>
                        <option value="ice">Hielo (0.9 g/cm¬≥)</option>
                        <option value="gold">Oro (19.3 g/cm¬≥)</option>
                        <option value="comet">Cometa (0.0001 g/cm¬≥)</option>
                        <option value="carbon">Asteroide de carbono (2.2 g/cm¬≥)</option>
                    </select>
                </div>
            </div>
        </div>



            <div class="simulation-controls">
                <button id="start-simulation" class="btn-primary">Iniciar Simulaci√≥n</button>
                <button id="reset-simulation" class="btn-secondary">Reiniciar</button>
            </div>
            
        </div>

        <!-- Contenido principal / Main content -->
        <div class="main-content">
            <div class="visualization-container">
                <div id="earth-container" class="earth-view">
                    <div id="map" style="width: 100%; height: 600px;"></div>
                </div>
                <div id="impact-marker" class="impact-marker" aria-hidden="true"></div>
                <div id ="visualization-message" class="visualization-message" aria-live="polite"></div>

                <div class="impact-data" id="impact-data">
                    <h3>Datos del Impacto</h3>
                    <div class="data-grid">
                        <div class="data-item">
                            <span class="label">Energ√≠a Liberada:</span>
                            <span class="value" id="energy-value">-</span>
                        </div>
                        <div class="data-item">
                            <span class="label">Di√°metro del Cr√°ter:</span>
                            <span class="value" id="crater-diameter">-</span>
                        </div>
                        <div class="data-item">
                            <span class="label">V√≠ctimas Estimadas:</span>
                            <span class="value" id="casualties">-</span>
                        </div>
                        <div class="data-item">
                            <span class="label">Zona de Destrucci√≥n:</span>
                            <span class="value" id="destruction-zone">-</span>
                        </div>
                    </div>
                </div>
            </div>


            <div class="effects-panel">
                <h3>Efectos Secundarios</h3>
                <div class="effects-grid">
                    <div class="effect-item" id="earthquake-effect">
                        <div class="effect-icon">üåç</div>
                        <div class="effect-info">
                            <h4>Terremoto</h4>
                            <p id="earthquake-magnitude">Magnitud: -</p>
                        </div>
                    </div>


                    <div class="effect-item" id="tsunami-effect">
                        <div class="effect-icon">üåä</div>
                        <div class="effect-info">
                            <h4>Tsunami</h4>
                            <p id="tsunami-height">Altura: -</p>
                        </div>
                    </div>


                    <div class="effect-item" id="fire-effect">
                        <div class="effect-icon">üî•</div>
                        <div class="effect-info">
                            <h4>Incendios</h4>
                            <p id="fire-radius">Radio: -</p>
                        </div>
                    </div>


                    <div class="effect-item" id="dust-effect">
                        <div class="effect-icon">üå´Ô∏è</div>
                        <div class="effect-info">
                            <h4>Nube de Polvo</h4>
                            <p id="dust-radius">Radio: -</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Panel de estad√≠sticas / Statistics panel -->
        <section class="statistics-panel" aria-labelledby="statistics-title">
            <h2 id="statistics-title">üìä Estad√≠sticas de la Semana</h2>
            <div class="stats-grid">
                <article class="stat-card">
                    <h3>Total de objetos</h3>
                    <p id="stat-total">121</p>
                    <span id="stat-hazard-percentage">2.5% peligrosos</span>
                </article>
                <article class="stat-card">
                    <h3>Potencialmente peligrosos</h3>
                    <p id="stat-hazardous">3</p>
                    <span>Vigilancia activa</span>
                </article>
                <article class="stat-card">
                    <h3>Tama√±o promedio</h3>
                    <p id="stat-average-size">88 m</p>
                    <span>Estimaci√≥n global</span>
                </article>
                <article class="stat-card">
                    <h3>Velocidad promedio</h3>
                    <p id="stat-average-velocity">13.8 km/s</p>
                    <span>Velocidad relativa</span>
                </article>
                <article class="stat-card">
                    <h3>√öltima actualizaci√≥n</h3>
                    <p id="stat-last-update">4/10/2025, 11:02:37 a. m.</p>
                    <span>Datos simulados</span>
                </article>
            </div>
        </section>

        <!-- Panel de mitigaci√≥n / Mitigation panel -->
        <div class="mitigation-panel" id="mitigation-panel" style="display: none;">
            <h3>M√©todos de Mitigaci√≥n</h3>
            <div class="mitigation-options">
                <div class="mitigation-card">
                    <h4>Desviaci√≥n por Impacto Cin√©tico</h4>
                    <p>Enviar una nave espacial para impactar y desviar el meteorito</p>
                    <button class="mitigation-mode" data-method="kinetic">Aplicar</button>
                </div>


                <div class="mitigation-card">
                    <h4>Gravedad Artificial</h4>
                    <p>Usar una nave masiva para desviar el meteorito con su gravedad</p>
                    <button class="mitigation-mode" data-method="gravity">Aplicar</button>
                </div>


                <div class="mitigation-card">
                    <h4>L√°ser Ablativo</h4>
                    <p>Usar l√°seres para vaporizar material y cambiar la trayectoria</p>
                    <button class="mitigation-mode" data-method="laser">Aplicar</button>
                </div>


                <div class="mitigation-card">
                    <h4>Refugios Subterr√°neos</h4>
                    <p>Construir refugios para proteger a la poblaci√≥n</p>
                    <button class="mitigation-mode" data-method="shelters">Aplicar</button>
                </div>
            </div>
        </div>

        <!-- Alertas de meteoritos cercanos / Hazard alerts -->
        <div class="alerts-panel">
            <h3>üö® Alertas de Peligro</h3>
            <div id="hazard-alerts" class="neo-list" aria-live="polite"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script> <!-- Leaflet.js se carga primero -->
    <script src="js/earth-map-2d.js"></script> <!-- Luego, el archivo que usa Leaflet -->
    <script src="js/nasa-api.js"></script>
    <script src="js/simulation.js"></script>
    <script src="js/server-integration.js"></script>
    <script src="js/overpass.js"></script> <!-- Debe estar antes de main.js -->
    <script src="js/calculations.js"></script>
    <script src="js/mitigation-fixed.js"></script>
    <script src="js/main.js"></script> <!-- Finalmente, carga main.js -->


</body>
</html>
